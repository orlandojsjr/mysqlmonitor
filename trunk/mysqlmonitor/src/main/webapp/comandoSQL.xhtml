<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:util="http://xmlns.jcp.org/jsf/composite/componentes">
    <ui:composition template="template.xhtml">
        <ui:define name="body">
            <h:form id="form">
                <util:comboBox id="grupoServidor" label="Banco de Dados"  listaItens="#{comandoSQLMB.grupoServidoresItem}" valor="#{comandoSQLMB.grupoServidor.idGrupoServidor}" semSelecione="true" />
                <h:inputTextarea id="code" value="#{comandoSQLMB.query}"/><br/>
                <p:messages/>
                <p:commandButton value="Executar SQL" ajax="false" actionListener="#{comandoSQLMB.executar()}" />
            </h:form>
            <script>
                window.onload = function() {
                    var mime = 'text/x-mysql';
                    // get mime type
                    if (window.location.href.indexOf('mime=') > -1) {
                        mime = window.location.href.substr(window.location.href.indexOf('mime=') + 5);
                    }
                    window.editor = CodeMirror.fromTextArea(document.getElementById('form:code'), {
                        mode: mime,
                        indentWithTabs: true,
                        smartIndent: true,
                        stylesheet: "css/sqlcolors.css",
                        lineNumbers: true,
                        matchBrackets: true,
                        autofocus: true
                    });
                };
            </script>    
        </ui:define>
    </ui:composition>
</html>

